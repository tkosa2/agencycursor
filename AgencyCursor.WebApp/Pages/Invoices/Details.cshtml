@page "{id:int}"
@model AgencyCursor.Pages.Invoices.DetailsModel
@{
    ViewData["Title"] = "Invoice Details";
}

<h1>Invoice @Model.Invoice?.InvoiceNumber</h1>
<dl class="row">
    <dt class="col-sm-2">Requestor</dt>
    <dd class="col-sm-10"><a asp-page="/Requestors/Details" asp-route-id="@Model.Invoice?.RequestorId">@Model.Invoice?.Requestor?.Name</a></dd>
    <dt class="col-sm-2">Interpreter</dt>
    <dd class="col-sm-10">@Model.Invoice?.Interpreter?.Name</dd>
    <dt class="col-sm-2">Appointment</dt>
    <dd class="col-sm-10"><a asp-page="/Appointments/Details" asp-route-id="@Model.Invoice?.AppointmentId">Appointment #@Model.Invoice?.AppointmentId</a></dd>
    <dt class="col-sm-2">Service Type</dt>
    <dd class="col-sm-10">@Model.Invoice?.ServiceType</dd>
    <dt class="col-sm-2">Hours Worked</dt>
    <dd class="col-sm-10">@Model.Invoice?.HoursWorked</dd>
    <dt class="col-sm-2">Hourly Rate</dt>
    <dd class="col-sm-10">@Model.Invoice?.HourlyRate.ToString("C")</dd>
    <dt class="col-sm-2">Discount</dt>
    <dd class="col-sm-10">@Model.Invoice?.Discount.ToString("C")</dd>
    <dt class="col-sm-2">Total Cost</dt>
    <dd class="col-sm-10"><strong>@Model.Invoice?.TotalCost.ToString("C")</strong></dd>
    <dt class="col-sm-2">Payment Status</dt>
    <dd class="col-sm-10">
        <span class="badge @(Model.Invoice?.PaymentStatus == "Paid" ? "bg-success" : 
                              Model.Invoice?.PaymentStatus == "Partially Paid" ? "bg-info" : 
                              Model.Invoice?.PaymentStatus == "Overdue" ? "bg-danger" : 
                              Model.Invoice?.PaymentStatus == "Cancelled" ? "bg-secondary" : 
                              Model.Invoice?.PaymentStatus == "Refunded" ? "bg-secondary" : 
                              "bg-warning")">@Model.Invoice?.PaymentStatus</span>
    </dd>
    <dt class="col-sm-2">Payment Method</dt>
    <dd class="col-sm-10">@Model.Invoice?.PaymentMethod</dd>
    <dt class="col-sm-2">Notes</dt>
    <dd class="col-sm-10">@Model.Invoice?.Notes</dd>
</dl>
<p>
    <a asp-page="Edit" asp-route-id="@Model.Invoice?.Id" class="btn btn-primary">Edit</a>
    <a asp-page-handler="DownloadPdf" asp-route-id="@Model.Invoice?.Id" asp-route-detailed="false" class="btn btn-danger">ðŸ“„ Download PDF (Standard)</a>
    <a asp-page-handler="DownloadPdf" asp-route-id="@Model.Invoice?.Id" asp-route-detailed="true" class="btn btn-warning">ðŸ“„ Download PDF (Detailed)</a>
    <a asp-page="Index" class="btn btn-secondary">Back to List</a>
</p>
